<!DOCTYPE html>
<html>
<head>
    <title>Pandas Tool</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="header">
        <div class="title">
            <h1>Pandas Helper</h1>
        </div>
        <nav>
            <ul>
                <li><a href="javascript:void(0);" onclick="refreshPage()">Home</a></li>
               <li class="tab"  id="dataManipulation"><a href="#">Data Manipulation</a></li>
                <li class="tab"  id="dataOutput">Data Output View</li>
                 <li class="tab"  id="dataView">Data View</a></li>
                 <li class="tab"  id="dataCleaning">Data Cleaning</li>
                 <li class="tab"  id="Visualization">Visualization</li>
                <li class="tab" id="Logs">Logging</li>



                <!-- Add more links for other functionalities -->
            </ul>
        </nav>
    </div>
    <div class="modal fade" id="dataModal" tabindex="-1" role="dialog" aria-labelledby="dataModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <img id="autoGeneratedCodeImage" src="https://placehold.it/200x100" alt="Auto-Generated Code Image">
                <input id="codeReader" placeholder="Enter the image code" autocomplete="off">
                <p>If u want to change the captcha just click on check button.</p>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button type="button" class="btn btn-primary" id="generateCodeBtn" onclick="generateAndDisplayCode()">Check</button>
            </div>
        </div>
    </div>
</div>


   <div class="container">
        <div class="row">
            <!-- Left Side - Upload and Display -->
            <div class="col-md-6" style="margin-top: 20px;">
                <div class="file-upload">
                    <input type="file" id="fileInput" accept=".csv, .xlsx" />
                    <button id="uploadFile">Upload</button>
                    <button id="openTableInNewTab" ><i class="fas fa-arrow-alt-circle-up"></i></button>

                </div>
                <div class="table-and-buttons">
                    <div class="table-container" id="fileDisplayArea" val="Table">
                        <p id="loadingText">Uploaded file content will be displayed here.</p>
                    </div>
                </div>
            </div>
             <div class="col-md-6" style="padding-left: 40px">
                 <div id="tagLine">
                     <h1>Web Tool of Pandas</h1><br><br><br><br><br>
                     <div class="features">
                     <div class="feature"><i class="fas fa-arrows-alt"></i> <h5 style="display: inline;">Drag-and-Drop Functionality</h5></div>
                     <div class="feature"><i class="fas fa-tasks"></i> <h5 style="display: inline;">Step-by-Step Problem Solving</h5></div>
                     <div class="feature"><i class="fas fa-cogs"></i> <h5 style="display: inline;">Interactive Input Specifications</h5></div>
                     <div class="feature"><i class="fas fa-chart-bar"></i> <h5 style="display: inline;">Visualizing Solutions</h5></div>
                     <div class="feature"><i class="fas fa-code"></i> <h5 style="display: inline;">Logging and Code Display</h5></div>
                     </div>
                 </div>

                 <div id="logging">
                    <h1>Logs of all actions.</h1>
                    <button id="show_logs_button">Show Logs</button>
                     <button id="clear_logs_button">Clear Logs</button>
                     <button id="copy_logs_button">Copy Logs</button><br><br>
                    <div id="loggs">
                        <textarea id="logsTextArea" rows="10" cols="50"></textarea>
                    </div>
                </div>
                <div class="Functions" style="margin-top: 150px; padding-left: 50px">
                   <div class="toggle" id="show_original_main">
                        <h1>Show Original Data Frame</h1>
                        <button id="show_original_button">Show Original DataFrame</button>

                    </div>
                    <div class="toggle" id="show_main">
                        <h1>Show Entire Data Frame</h1>
                        <button id="show_button">Show Current DataFrame</button><br><br>
                        <span>Enter those columns to get visible in dataframe</span>
                        <input id="columns_name" placeholder="Optional">
                        <p>For multiple columns_names, use a comma between columns(e.g., col1,col2,col3)</p>

                    </div>
                    <div class="toggle" id="head_main">
                        <h1>Head Function</h1>
                        <p>Shows the initial rows of a DataFrame or Series, aiding in a quick overview of the data structure.</p>
                        <button id="head_button">head</button>
                        <input id="head_value" placeholder="Optional default Value: 5">
                    </div>
                    <div class="toggle" id="tail_main">
                        <h1>Tail Function</h1>
                        <p>Shows the last rows of a DataFrame or Series, aiding in a quick overview of the data structure.</p>
                        <button id="tail_button" >tail</button>
                        <input id="tail_value" placeholder="Optional default Value: 5">
                    </div>
                    <div class="toggle" id="info_main">
                        <h1>Info Function</h1>
                        <p>It provides a compact summary of a DataFrame, displaying data types, non-null counts, and memory usage.</p>
                        <button id="info_button" >Info</button>

                    </div>
                    <div class="toggle" id="dtypes_main">
                        <h1>Dtypes Function</h1>
                        <p>It provides data types of all the columns.</p>
                        <button id="dtypes_button" >Data type of all columns</button>

                    </div>
                     <div class="toggle" id="describe_main">
                        <h1>Describe Function</h1>
                        <p>It provides a compact summary of a DataFrame, displaying data types, non-null counts, and memory usage.</p>
                        <button id="describe_button" >Describe</button>

                    </div>
                    <div class="toggle" id="shape_main">
                        <h1>Shape Function</h1>
                        <p>It provides no of rows and columns in a tuple format.</p>
                        <button id="shape_button" >Shape</button>

                    </div>
                    <div class="toggle" id="columns_main">
                        <h1>Columns Function</h1>
                        <p>It provides all columns names.</p>
                        <button id="columns_button" >Show Columns</button>
                    </div>

                    <div class="toggle" id="sort_values_main">
                        <h1>Sort Values Function</h1>
                        <p>It provides the resulted dataframe either in ascending or descending.</p><br>
                        <button id="sort_values_button">Sort Values</button>
                        <button id="add_sort_value" type="button"><i class="fa fa-plus"></i></button><br><br>
                        <div id="columns-container"> <!-- Wrap added columns in a container -->
                            <div class="column-container">
                                <input class="column-input" placeholder="Enter the column name">
                                <select class="column-dropdown">
                                    <option value="1">Ascending</option>
                                    <option value="0">Descending</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="toggle" id="corr_main">
                        <h1>Correlation Function</h1>
                        <p>Calculates the pairwise correlation of columns in a DataFrame.</p>
                        <label for="correlationMethod">Method of Correlation:</label>
                        <select id="correlationMethod">
                            <option value="pearson">Pearson</option>
                            <option value="kendall">Kendall</option>
                            <option value="spearman">Spearman</option>
                        </select><br>
                        <button id="corr_button">Correlation</button>
                    </div>


                    <div class="toggle" id="groupby_main">
                        <h1>Group By Function</h1>
                        <p>Groups the DataFrame using a mapper or by a Series of columns.</p>
                        <label for="groupByColumn">Enter Column Name to Group By:</label>
                        <input type="text" id="groupByColumn" placeholder="Enter column name">
                        <label for="aggregationDropdown">Select Aggregation Function:</label>
                        <select id="aggregationDropdown">
                            <option value="max">Max</option>
                            <option value="min">Min</option>
                            <option value="avg">Avg</option>
                            <option value="sum">Sum</option>
                            <option value="count">Count</option>
                        </select>
                        <p>For multiple columns, use a comma between column names (e.g., col1, col2)</p>
                        <button id="groupBy_button">Group By</button>
                    </div>
                    <!--  Data Cleaning Functionality-->
                    <div class="toggle" id="isna_main">
                        <h1>IsNa Report</h1>
                        <p>It provides the count of all NA in all columns.</p>
                        <button id="isna_button" >Show IsNa Counts</button>
                    </div>
                    <div class="toggle" id="fillna_main">
                        <h1>Fill NA Function</h1>
                        <p>It fills the null values with a text given from the users.</p>
                        <input id="target_column" placeholder="Mention the col name">
                        <input id="target_column_value" placeholder="Write the Alpha/Num Text.">
                        <button id="fillna_button" >Fill NA</button>
                    </div>
                    <div class="toggle" id="ffill_main">
                        <h1>FFill Method</h1>
                        <p>FFILL</p>
                        <input id="f_target_column" placeholder="Mention the col name">
                        <button id="ffill_button" >FFill</button>
                    </div>
                    <div class="toggle" id="bfill_main">
                        <h1>BFill Method</h1>
                        <p>It fills the null values with a text given from the users.</p>
                        <input id="b_target_column" placeholder="Mention the col name">
                        <button id="bfill_button" >Fill NA</button>
                    </div>
                    <div class="toggle" id="dropna_main">
                        <h1>Drop NaN Values</h1>
                        <p>Removes missing (NaN) values from the DataFrame or Series.</p>
                        <label for="dropna_criteria">Choose the criteria:</label>
                        <select id="dropna_criteria">
                            <option value="how_row">Drop Rows based on how</option>
                            <option value="how_column">Drop Columns based on how</option>
                            <option value="thresh_row">Specify Minimum non-NaN Rows</option>
                            <option value="thresh_column">Specify Minimum non-NaN Columns</option>
                        </select>
                        <div id="how_options" style="display: none;">
                            <label for="dropna_how">Choose how to drop:</label>
                            <select id="dropna_how">
                                <option value="any">Drop if any NaN</option>
                                <option value="all">Drop if all NaN</option>
                            </select>
                        </div>
                        <div id="thresh_options" style="display: none;">
                            <label for="dropna_thresh">Minimum non-NaN values:</label>
                            <input id="dropna_thresh" placeholder="Enter minimum non-NaN count">
                        </div>
                        <button id="dropna_button">dropna</button>
                    </div>
                     <div class="toggle" id="drop_main">
                        <h1>Drop Rows or Columns</h1>
                        <p>Delete rows or columns from the DataFrame based on the selection.</p>
                        <label for="drop_type">Choose what to drop:</label>
                        <select id="drop_type">
                            <option value="row">Rows</option>
                            <option value="column">Columns</option>
                        </select>
                        <div id="drop_column_name" style="display: none;">
                            <label for="column_name">Enter Column Name(s):</label>
                            <input id="column_name" placeholder="Enter column names (comma-separated)">
                            <p>For multiple columns, use a comma between column names (e.g., col1, col2)</p>
                        </div>
                        <div id="drop_row_number" style="display: none;">
                            <label for="row_number">Enter Row Number(s):</label>
                            <input id="row_number" placeholder="Enter row numbers (comma-separated)">
                            <p>For multiple rows, use a comma between row numbers (e.g., 1, 2, 3)</p>
                        </div>
                        <button id="drop_button">Drop</button>
                    </div>
                    <div class="toggle" id="drop_duplicates_main">
                        <h1>Drop Duplicates Function</h1>
                        <p>It is used to drop all duplicated values from the DataFrame.</p>
                        <label for="ddParameters">Parameters of Drop Duplicates:</label>
                        <select id="ddParameters">
                            <option value="first">First</option>
                            <option value="last">Last</option>
                        </select><br>
                        <button id="drop_duplicates_button">Drop Duplicates</button>
                    </div>
                    <div class="toggle" id="duplicates_main">
                        <h1>Duplicates Report</h1>
                        <p>It provide the report of the numbers of duplicates presents.</p>
                        <button id="duplicates_button">Show Duplicates Report</button>
                    </div>
                    <div class="toggle" id="resetindex_main">
                        <h1>Reset Index Function</h1>
                        <p>It is used to reset the index of a DataFrame, converting the current index (labels) into columns and assigning a new default integer index</p>
                        <button id="resetindex_button">Reset Index</button>
                    </div>
                    <!--======================Data Visualize====================================-->
                    <div class="toggle" id="bar_main">
                        <h1>Bar Graph</h1>
                        <p>It is a visual representation of categorical data, where rectangular bars of varying lengths are used to illustrate the values associated with different categories, providing a clear comparison of data points.
                         <br><br><input id="bar_row_value" placeholder="Enter col for ROW">
                         <input id="bar_col_value" placeholder="Enter col for COL"><br><br>
                         <label for="bar_color_input">Enter Bar Colors (comma-separated):</label>
                        <input id="bar_color_input" placeholder="Optional">
                        <p>Accepted Colors: red, green, blue, yellow, orange, purple, ... (add more as needed)</p>
                        <p class="warning" style="color:red;">Only Numerical Columns in Columns Output of Bar Chart</p>
                        <button id="bar_button">Plot Bar</button>

                    </div>
                    <div class="toggle" id="scatter_main">
                        <h1>Scatter Plot</h1>
                        <p>A scatter plot is a graphical representation of individual data points in a two-dimensional space, where each point on the plot corresponds to the values of two variables, providing a visual depiction of their relationship and distribution.</p><br>
                        <input id="scatter_row_value" placeholder="Enter col for ROW">
                         <input id="scatter_col_value" placeholder="Enter col for COL">
                        <br><p class="warning" style="color:red;">Only Numerical Columns are allowed!!</p>
                        <button id="scatter_button">Plot Scatter</button>

                    </div>

                    <div class="toggle" id="line_main">
                        <h1>Line Graph</h1>
                        <p>A line graph is used to visualize the relationship and trends in data points over a continuous interval or time period.</p>
                        <input id="line_row_value" placeholder="Enter col for ROW">
                         <input id="line_col_value" placeholder="Enter col for COL">
                        <br><br><button id="line_button">Plot Line</button>

                    </div>



                    <div class="toggle" id="boxplot_main">
                        <h1>BoxPlot</h1>
                        <p>A boxplot is a statistical visualization that displays the distribution of a dataset, highlighting key measures such as the median, quartiles, and potential outliers.
                        <p class="warning" style="color:red;">Only Numerical Columns are allowed!!</p>
                            <br><button id="boxplot_button">BoxPlot</button>

                    </div>
                    <div class="toggle" id="area_main">
                        <h1>Area Chart</h1>
                        <p>An area chart is a type of data visualization that displays the cumulative values of different data series over time or categories, emphasizing the overall trend.
                        <br><br><input id="area_row_value" placeholder="Enter col for ROW">
                         <input id="area_col_value" placeholder="Enter col for COL">
                         <p class="warning" style="color:red;">Only Numerical Columns are allowed on Columns Output of Area Chart!!</p>
                            <br><button id="area_button">PLot AreaChart</button>

                    </div>
                    <div class="toggle" id="violin_main">
                        <h1>Violin Chart</h1>
                        <p>A violin plot is used to visualize the distribution of a dataset across different categories or groups. It combines aspects of a box plot and a kernel density plot.
                        <p class="warning" style="color:red;">Only Numerical Columns are allowed!!</p>
                            <br><button id="violin_button">Plot Violin</button>

                    </div>
                    <!--===============================Data Manipulaiton=====================================-->
                    <div class="toggle" id="rename_main">
                        <h1>Rename Function</h1>
                        <p>The rename method in pandas is used to rename columns in a DataFrame.</p>
                        <input id="rename_old_value" placeholder="Enter col name to rename">
                         <input id="rename_new_value" placeholder="Enter new Column name">
                        <br><br><p>For Multiple columns renamed put comma in between ie. a,b,c</p>
                        <br><button id="rename_button">Rename</button>

                    </div>
                     <div class="toggle" id="astype_main">
                        <h1>Astype Function</h1>
                         <p>It is used to changed the data types of the cols</p>
                         <input id="astype_column" placeholder="Mention the col name">
                         <select id="dtype">
                             <option value="str" selected>Str</option>
                            <option value="int">Int</option>
                            <option value="float">Float</option>
                            <option value="bool">Boolean</option>
                         </select>
                          <br><br><p>For Multiple columns renamed put comma in between ie. a,b,c</p>
                        <br><button id="astype_button" >Change Type</button>
                    </div>
                    <div class="toggle" id="set_index_main">
                        <h1>Set Index Function</h1>
                         <p>It is used to set an index to a col/multiple cols.</p>
                         <input id="set_index_column" placeholder="Mention the col name">
                        <br><br><p>For Multiple columns renamed put comma in between ie. a,b,c</p>
                        <br><button id="set_index_button" >Set Index</button>
                    </div>
                    <div class="toggle" id="concat_main">
                        <h1>Concat Function</h1>
                         <p>It is used to concat two columns.</p>
                         <input id="concat_column" placeholder="Mention the col name">
                         <input id="aggregate_value" placeholder="Mention the agg value.">

                        <br><br><p>For Multiple columns renamed put comma in between ie. a,b,c</p>
                        <br><button id="concat_button" >Concat</button>
                    </div>
                    <div class="toggle" id="split_main">
                        <h1>Split Function</h1>
                         <p>It is used to split the columns value into columns.</p>
                         <input id="split_column" placeholder="Mention the col name">
                        <input id="split_value" placeholder="Mention the split value.">
                        <br><br><button id="split_button" >Split To Columns</button>
                    </div>
                    <div class="toggle" id="remove_index_main">
                        <h1>Remove Index Function</h1>
                         <p>It is used to remove index at that particular time only on the dataframe.</p>
                        <br><br><button id="remove_index_button" >Remove Index</button>
                    </div>
                    <div class="toggle" id="where_main">
                        <h1>Conditional Formatting</h1>
                        <p>It is used for conditional Formatting numeric,string,boolean manipulation.</p>
                        <label for="manipulation_criteria">Choose the criteria:</label>
                        <select id="manipulation_criteria">
                            <option value="int" selected>Integer</option>
                            <option value="str">String</option>
                            <option value="float">Float</option>
                            <option value="bool">Boolean</option>
                        </select>
                        <div id="dynamic_fields" class="hidden">
                          <input type="text" id="column" placeholder="Enter Col name">
                          <select id="operator">
                            <option value="equal" class="numeric" > ==</option>
                            <option value="not_equal" class="numeric">!=</option>
                            <option value="greater_than" class="numeric">></option>
                            <option value="greater_equal_than" class="numeric">>=</option>
                            <option value="les_than" class="numeric"><</option>
                            <option value="less_equal_than" class="numeric"><=</option>
                            <option value="equal" class="str"> ==</option>
                            <option value="equal" class="numeric" selected> ==</option>
                            <option value="equal" class="bool"> ==</option>
                            <option value="Contain" class="str">Contain</option>
                            <!-- Add more comparison operators as needed -->
                          </select>
                          <input type="text" id="value" placeholder="Enter value" oninput="validateInput()">
                          <br><br><button id="where_button">Conditional Format</button><br>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="dataOutputModal" tabindex="-1" role="dialog" aria-labelledby="dataOutputModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="dataOutputModalLabel">Data Output</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
            <ul class="grid">
                <li id="func_json">To Json()</li>
                <li id="func_tsv">To Tsv</li>
                <li id="func_latex">To Latex</li>
                <li id="func_parquet">To Parquet</li>
                <li id="func_xml">To Xml</li>
            </ul>
                    </div>
        </div>
    </div>
    </div>
    <div class="modal fade" id="dataManipulationModal" tabindex="-1" role="dialog" aria-labelledby="dataManipulationModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="dataManipulationModalLabel">Data Manipulation</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
<ul class="grid">
                <li id="func_set_index">set_index()</li>
                <li id="func_rename">rename()</li>
                <li id="func_astype">astype()</li>
                <li id="func_where">Conditional Formatting</li>
                <li id="func_concat">concat</li>
                <li id="func_split">Split data</li>
                <li id="func_remove_index">Remove Index</li>


</ul>

                    </div>
        </div>
    </div>
</div>

    <div class="modal fade" id="dataViewModal" tabindex="-1" role="dialog" aria-labelledby="dataViewModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="dataViewModalLabel">Data View</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <ul class="grid">

                    <li id="func_show_original">Show Original</li>
                    <li id="func_show">Show Current</li>
                    <li id="func_head">head()</li>
                    <li id="func_tail">tail()</li>
                    <li id="func_info">info()</li>
                    <li id="func_describe">describe()</li>
                    <li id="func_dtypes">dtypes</li>
                    <li id="func_columns">columns</li>
                    <li id="func_shape">shape</li>
                    <li id="func_groupby">groupby()</li>
                    <li id="func_sort_values">sort_values()</li>
                    <li id="func_corr">corr()</li>
    </ul>
                </ul>
                    </div>
        </div>
    </div>
</div>
       <div class="modal fade" id="dataCleaningModal" tabindex="-1" role="dialog" aria-labelledby="dataCleaningModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="dataCleaningModalLabel">Data Cleaning</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                 <ul class="grid">
                     <li id="func_drop">drop()</li>
                    <li id="func_duplicates">Duplicates()</li>
                    <li id="func_drop_duplicates">drop_duplicates()</li>
                     <li id="func_isna">isna()</li>
                    <li id="func_fillna">fillna()</li>
                    <li id="func_dropna">dropna()</li>
                    <li id="func_ffill">ffill()</li>
                    <li id="func_bfill">bfill()</li>
                    <li id="func_resetindex">resetIndex()</li>
    </ul>
                    </div>
        </div>
    </div>
</div>
    <div class="modal fade" id="dataVisualizationModal" tabindex="-1" role="dialog" aria-labelledby="dataVisualizationModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="dataVisualizationModalLabel">Data Visualization</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                 <ul class="grid">
        <li id="func_bar">Bar</li>
        <li id="func_scatter">Scatter</li>
        <li id="func_line">Line</li>
        <li id="func_boxplot">BoxPlot</li>
        <li id="func_area">Area</li>
        <li id="func_violin">Violin</li>
    </ul>
                    </div>
        </div>
    </div>
</div>


    <footer class="fixed-bottom bg-light text-center py-3">
        &copy; 2023 Nikunj Mistry
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/DataView.js') }}"></script>
    <script src="{{ url_for('static', filename='js/DataVisual.js') }}"></script>
    <script src="{{ url_for('static', filename='js/DataCleaning.js') }}"></script>
    <script src="{{ url_for('static', filename='js/DataOutput.js') }}"></script>
    <script src="{{ url_for('static', filename='js/DataManipulation.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.0/xlsx.full.min.js"></script>

</body>
</html>
